from pwn import *

r = remote('pwnable.kr', 9007)
r.recvuntil('- Ready? starting in 3 sec... -')
for j in range(100):
    r.recvuntil('N=')
    N = int(r.recvuntil(' ').strip())
    print('N = ' + str(N))
    r.recvuntil('C=')
    C = int(r.recvline().strip())
    print('C = ' + str(C))
    start = 0
    end = N

    chance = 0
    while 1:
        middle = int(math.floor( (start+end) / 2.0 ) )
        payload = ''
        repeat = 0
        for i in range(start, middle+1):
            repeat += 1
            payload += str(i) + ' '
        r.sendline(payload)
        response = r.recv()
        if b'Correct!' in response:
            success('%d time correct!', j)
            break
        weight = int(response.strip())
        chance += 1
        if weight == repeat*10:
            start = middle+1
        else:
            end = middle

r.interactive()